<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="PictureDirect.Views.EPhotoDetailPage"
             xmlns:vm="clr-namespace:PictureDirect.ViewModels"
             Title="{Binding Title}"
             BackgroundColor="{StaticResource Accent}">

  <AbsoluteLayout HorizontalOptions="FillAndExpand" VerticalOptions="FillAndExpand" >

    <Grid VerticalOptions="FillAndExpand" AbsoluteLayout.LayoutFlags="All" AbsoluteLayout.LayoutBounds="0,0,1,1" >

      <Grid.RowDefinitions>
        <RowDefinition Height="70" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="20" />
        <RowDefinition Height="1*" />
      </Grid.RowDefinitions>

      <Grid Grid.Row="0" Padding="10" BackgroundColor="{StaticResource Primary}">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="1*"/>
          <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>
        
        <Button Image="cancel.png" Text="Annuler" Grid.Row="0" BackgroundColor="White" Grid.Column="0" VerticalOptions="Start" Command="{Binding DiscardCommand}"/>
        <Button Image="ok.png"  Text="Valider" Grid.Row="0" BackgroundColor="White" Grid.Column="1" VerticalOptions="Start" Command="{Binding SaveCommand}"/>
      </Grid>

      <Grid Grid.Row="1">

        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="1*"/>
          <ColumnDefinition Width="Auto"/>
          <ColumnDefinition Width="1*"/>
        </Grid.ColumnDefinitions>
        
        <BoxView CornerRadius="5" BackgroundColor="White" Grid.Column="1" />
        <Image x:Name="img" Source="{Binding ImageSource}" Aspect="AspectFit" Margin="10" Grid.Column="1"/>

      </Grid>
      
      <Label Text="Entrez un commentaire :" FontSize="Medium" Margin="10,0,10,0" TextColor="Black" Grid.Row="2" />
      <Editor	FontSize="Small" Margin="10,0,10,10"
							Text="{Binding Description}"
							TextColor="Gray"
              BackgroundColor="White" 
              Grid.Row="3" HeightRequest="100"/>
    </Grid>

    <StackLayout AbsoluteLayout.LayoutBounds=".5,1,1,0.1" AbsoluteLayout.LayoutFlags="All" IsVisible="{Binding HasContextInfo}" BackgroundColor="{Binding ContextInfoColor}">
      <Label Text="{Binding ContextInfo}" FontAttributes="Bold" TextColor="White" Margin="10" VerticalOptions="FillAndExpand" VerticalTextAlignment="Center" HorizontalOptions="FillAndExpand" />
    </StackLayout>

  </AbsoluteLayout>

</ContentPage>